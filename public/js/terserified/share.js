function showVictoryModal(){let e;isCustomGame?isCustomGame&&(e=parseInt(getCookie("customGame_guesses"))):e=parseInt(getCookie("guesses")),e=Math.max(1,e-1),document.getElementById("guessCountDisplay").textContent=`${e} ${1===e?"guess":"guesses"}!`,updateShareLinks(e),document.getElementById("victoryContainer").style.display="block"}function updateShareLinks(e){const t=`I beat today's screenle in ${e} ${1===e?"guess":"guesses"}! Can you beat my score?`;document.getElementById("shareOnTwitter").href=`https://twitter.com/intent/tweet?text=${encodeURIComponent(t)}&url=${encodeURIComponent(document.location.href)}`,document.getElementById("shareOnFacebook").href=`https://www.facebook.com/sharer/sharer.php?u=${encodeURIComponent(document.location.href)}&quote=${encodeURIComponent(t)}`}function handleGenericShare(){let e;isCustomGame?isCustomGame&&(e=parseInt(getCookie("customGame_guesses"))):e=parseInt(getCookie("guesses")),e=Math.max(1,e-1);const t=`I beat the screenle in ${e} ${1===e?"guess":"guesses"}! Try to beat my score.`,o=document.location.href,n=document.getElementById("genericShareButton");/Mobi|Android/i.test(navigator.userAgent)&&navigator.share?navigator.share({title:"Play screenle",text:t,url:o}).then((()=>{n.textContent="Shared!",setTimeout((()=>{n.innerHTML='<img src="images/copy.png" alt="Copy Link">'}),2e3)})).catch(console.error):navigator.clipboard.writeText(`${t} ${o}`).then((()=>{n.textContent="Copied!",setTimeout((()=>{n.innerHTML='<img src="images/copy.png" alt="Copy Link">'}),1e3)})).catch((e=>{console.error("Failed to copy: ",e),n.textContent="Failed to copy!",setTimeout((()=>{n.innerHTML='<img src="images/copy.png" alt="Copy Link">'}),1e3)}))}function share_custom_game(){const e=document.getElementById("guessInput").value.trim();if(!e)return void alert("Please enter a movie title.");const t=movies.find((t=>t["Movie Title"].toLowerCase()===e.toLowerCase()));if(!t)return void(document.getElementById("gameMessage").textContent="Movie not found, try again.");const o=encodeMovieTitle(t["Movie Title"]);shareLink("I made a custom screenle game for you! Try it here:",generateCustomGameLink(o))}function shareLink(e,t){/Mobi|Android/i.test(navigator.userAgent)&&navigator.share?navigator.share({title:"Play screenle - Custom Game",text:e,url:t}).then((()=>console.log("Share was successful."))).catch(console.error):navigator.clipboard.writeText(`${e} ${t}`).then((()=>{})).catch((e=>{console.error("Failed to copy link to clipboard: ",e),alert("Failed to copy link to clipboard.")}))}