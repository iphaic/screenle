function showVictoryModal(){let e;isCustomGame?isCustomGame&&(e=parseInt(getCookie("customGame_guesses"))):e=parseInt(getCookie("guesses")),e=Math.max(1,e-1),document.getElementById("guessCountDisplay").textContent=`${e} ${1===e?"guess":"guesses"}!`,updateShareLinks(e),document.getElementById("victoryContainer").style.display="block"}function updateShareLinks(e){const t=`I beat today's screenle in ${e} ${1===e?"guess":"guesses"}! Can you beat my score?`;document.getElementById("shareOnTwitter").href=`https://twitter.com/intent/tweet?text=${encodeURIComponent(t)}&url=${encodeURIComponent(document.location.href)}`,document.getElementById("shareOnFacebook").href=`https://www.facebook.com/sharer/sharer.php?u=${encodeURIComponent(document.location.href)}&quote=${encodeURIComponent(t)}`}function handleGenericShare(){let e=parseInt(getCookie("guesses"));e=Math.max(1,e-1);const t=`I beat today's screenle in ${e} ${1===e?"guess":"guesses"}! Try to beat my score: ${document.location.href}`,o=document.getElementById("genericShareButton");navigator.userAgentData&&navigator.userAgentData.mobile&&navigator.share?navigator.share({title:"play screenle",text:t,url:document.location.href}).then((()=>{o.textContent="Copied!",setTimeout((()=>{o.innerHTML='<img src="images/copy.png" alt="Copy Link">'}),2e3)})).catch(console.error):navigator.clipboard.writeText(t).then((()=>{o.textContent="Copied!",setTimeout((()=>{o.innerHTML='<img src="images/copy.png" alt="Copy Link">'}),1e3)})).catch((e=>{console.error("Failed to copy: ",e),o.textContent="Failed to copy!",setTimeout((()=>{o.innerHTML='<img src="images/copy.png" alt="Copy Link">'}),1e3)}))}function share_custom_game(){const e=document.getElementById("guessInput").value.trim();if(!e)return void alert("Please enter a movie title.");const t=movies.find((t=>t["Movie Title"].toLowerCase()===e.toLowerCase()));if(!t)return void(document.getElementById("gameMessage").textContent="Movie not found, try again.");const o=encodeMovieTitle(t["Movie Title"]);shareLink(`I made a custom screenle game for you! Try it here: ${generateCustomGameLink(o)}`)}function shareLink(e){navigator.userAgentData&&navigator.userAgentData.mobile&&navigator.share?navigator.share({title:"Play screenle - Custom Game",text:e,url:e}).then((()=>console.log("Share was successful."))).catch(console.error):navigator.clipboard.writeText(e).then((()=>{})).catch((e=>{console.error("Failed to copy link to clipboard: ",e),alert("Failed to copy link to clipboard.")}))}